\hypertarget{classllk_1_1Device}{}\section{llk\+:\+:Device Class Reference}
\label{classllk_1_1Device}\index{llk\+::\+Device@{llk\+::\+Device}}


\hyperlink{classllk_1_1Device}{Device} A\+PI in a wrapper class.  




{\ttfamily \#include $<$llk\+\_\+device.\+h$>$}



Collaboration diagram for llk\+:\+:Device\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=289pt]{classllk_1_1Device__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classllk_1_1Device_a4be879d10344eab03473e53e41cc14b8}{start} (std\+::string root, std\+::string device\+\_\+descriptor\+\_\+filename, std\+::vector$<$ std\+::string $>$ plusargs, std\+::vector$<$ std\+::string $>$ dump\+\_\+cores, std\+::string overlay\+\_\+graph=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em Starts device. \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_a8e68d577fd5c160567e31dc0518bd6e9}{setup\+\_\+kernels} (std\+::string root, std\+::unordered\+\_\+map$<$ \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}, std\+::vector$<$ std\+::vector$<$ std\+::string $>$$>$$>$ \&kernels\+\_\+used, std\+::string test\+\_\+name, bool hlkc\+\_\+test=false)
\begin{DoxyCompactList}\small\item\em Sets up test information (ckernels images etc) \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_a15b42f2d1a734de7cd14b33a93bb87e2}{generate\+\_\+overlay\+\_\+blob} (std\+::string root, std\+::map$<$ std\+::string, std\+::string $>$ blob\+\_\+args)
\begin{DoxyCompactList}\small\item\em Builds overlay blob hex files. \end{DoxyCompactList}\item 
bool \hyperlink{classllk_1_1Device_a70a42e9710b3c971685f38733852e90e}{run} ()
\begin{DoxyCompactList}\small\item\em Runs simulation. \end{DoxyCompactList}\item 
bool \hyperlink{classllk_1_1Device_a6f6a546079d7c976635093e85ef6d348}{stop} ()
\begin{DoxyCompactList}\small\item\em Stops and teardowns device. \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_ad0bcc94a905851a6c78bb84873ff780d}{write\+\_\+register} (uint32\+\_\+t \&value, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target, std\+::int32\+\_\+t address)
\begin{DoxyCompactList}\small\item\em write vector to specific core -- address is byte address \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_a6960399d0aa112fc17d743423e7fc9f9}{read\+\_\+register} (uint32\+\_\+t \&value, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target, std\+::int32\+\_\+t address)
\begin{DoxyCompactList}\small\item\em read vector from specific core -- address is byte address \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_a5704d979e68f372b6490ddf52e6bbff4}{write\+\_\+vector} (std\+::vector$<$ std\+::uint32\+\_\+t $>$ \&mem\+\_\+vector, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target, std\+::int32\+\_\+t address)
\begin{DoxyCompactList}\small\item\em write vector to specific core -- address is byte address \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_a1e742a4ebe3f474152878830c5e12388}{read\+\_\+vector} (std\+::vector$<$ std\+::uint32\+\_\+t $>$ \&mem\+\_\+vector, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target, std\+::int32\+\_\+t address, std\+::int32\+\_\+t size\+\_\+in\+\_\+bytes)
\begin{DoxyCompactList}\small\item\em read vector from specific core -- address is byte address \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_a636a9edf251c886873b8cd2140329730}{write\+\_\+tensor} (\hyperlink{classllk_1_1Tensor}{llk\+::\+Tensor} \&tensor, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target, std\+::int32\+\_\+t address, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} num\+\_\+blocks=\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}(1, 1))
\begin{DoxyCompactList}\small\item\em write tensor to specific core -- address is byte address \end{DoxyCompactList}\item 
void \hyperlink{classllk_1_1Device_ac399c05757459303f9d3ae64c52359da}{read\+\_\+tensor} (\hyperlink{classllk_1_1Tensor}{llk\+::\+Tensor} \&tensor, \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target, std\+::int32\+\_\+t address)
\begin{DoxyCompactList}\small\item\em read tensor from specific core \end{DoxyCompactList}\item 
bool \hyperlink{classllk_1_1Device_a860d5ea1706c7fc693ed2f7da2de9874}{wait\+\_\+completion} (std\+::uint32\+\_\+t W\+A\+I\+T\+\_\+\+N\+U\+M\+\_\+\+R\+I\+S\+CS=5)
\begin{DoxyCompactList}\small\item\em Wait for completion status/signal from device. \end{DoxyCompactList}\item 
bool \hyperlink{classllk_1_1Device_a9086600f456bd20655b2bd74b8d10017}{test\+\_\+write\+\_\+read} (\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair} target)
\begin{DoxyCompactList}\small\item\em Simple test of communication to device/target. true if it passes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structllk_1_1SocDescriptor}{llk\+::\+Soc\+Descriptor} \hyperlink{classllk_1_1Device_a00b7609fbc13977bb9ea6522c53feeb4}{soc\+\_\+descriptor}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classllk_1_1Device}{Device} A\+PI in a wrapper class. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classllk_1_1Device_a15b42f2d1a734de7cd14b33a93bb87e2}\label{classllk_1_1Device_a15b42f2d1a734de7cd14b33a93bb87e2}} 
\index{llk\+::\+Device@{llk\+::\+Device}!generate\+\_\+overlay\+\_\+blob@{generate\+\_\+overlay\+\_\+blob}}
\index{generate\+\_\+overlay\+\_\+blob@{generate\+\_\+overlay\+\_\+blob}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{generate\+\_\+overlay\+\_\+blob()}{generate\_overlay\_blob()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::generate\+\_\+overlay\+\_\+blob (\begin{DoxyParamCaption}\item[{std\+::string}]{root,  }\item[{std\+::map$<$ std\+::string, std\+::string $>$}]{blob\+\_\+args }\end{DoxyParamCaption})}



Builds overlay blob hex files. 

\mbox{\Hypertarget{classllk_1_1Device_a6960399d0aa112fc17d743423e7fc9f9}\label{classllk_1_1Device_a6960399d0aa112fc17d743423e7fc9f9}} 
\index{llk\+::\+Device@{llk\+::\+Device}!read\+\_\+register@{read\+\_\+register}}
\index{read\+\_\+register@{read\+\_\+register}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{read\+\_\+register()}{read\_register()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::read\+\_\+register (\begin{DoxyParamCaption}\item[{uint32\+\_\+t \&}]{value,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target,  }\item[{std\+::int32\+\_\+t}]{address }\end{DoxyParamCaption})}



read vector from specific core -- address is byte address 


\begin{DoxyParams}{Parameters}
{\em mem\+\_\+vector} & is the vector to read \\
\hline
{\em target} & is xy coordinate that is the target of the read or write \\
\hline
{\em address} & is register byte address \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classllk_1_1Device_ac399c05757459303f9d3ae64c52359da}\label{classllk_1_1Device_ac399c05757459303f9d3ae64c52359da}} 
\index{llk\+::\+Device@{llk\+::\+Device}!read\+\_\+tensor@{read\+\_\+tensor}}
\index{read\+\_\+tensor@{read\+\_\+tensor}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{read\+\_\+tensor()}{read\_tensor()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::read\+\_\+tensor (\begin{DoxyParamCaption}\item[{\hyperlink{classllk_1_1Tensor}{llk\+::\+Tensor} \&}]{tensor,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target,  }\item[{std\+::int32\+\_\+t}]{address }\end{DoxyParamCaption})}



read tensor from specific core 


\begin{DoxyParams}{Parameters}
{\em tensor} & is the destination tensor to fill. Dimension and format must be initialized correctly! \\
\hline
{\em target} & is xy coordinate that is the target of the read or write \\
\hline
{\em address} & is byte address \\
\hline
{\em dims} & is tensor dimensions \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classllk_1_1Device_a1e742a4ebe3f474152878830c5e12388}\label{classllk_1_1Device_a1e742a4ebe3f474152878830c5e12388}} 
\index{llk\+::\+Device@{llk\+::\+Device}!read\+\_\+vector@{read\+\_\+vector}}
\index{read\+\_\+vector@{read\+\_\+vector}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{read\+\_\+vector()}{read\_vector()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::read\+\_\+vector (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::uint32\+\_\+t $>$ \&}]{mem\+\_\+vector,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target,  }\item[{std\+::int32\+\_\+t}]{address,  }\item[{std\+::int32\+\_\+t}]{size\+\_\+in\+\_\+bytes }\end{DoxyParamCaption})}



read vector from specific core -- address is byte address 


\begin{DoxyParams}{Parameters}
{\em mem\+\_\+vector} & is the vector to read \\
\hline
{\em target} & is xy coordinate that is the target of the read or write \\
\hline
{\em address} & is byte address \\
\hline
{\em size\+\_\+in\+\_\+bytes} & is number of bytes to read \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classllk_1_1Device_a70a42e9710b3c971685f38733852e90e}\label{classllk_1_1Device_a70a42e9710b3c971685f38733852e90e}} 
\index{llk\+::\+Device@{llk\+::\+Device}!run@{run}}
\index{run@{run}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily bool llk\+::\+Device\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Runs simulation. 

\mbox{\Hypertarget{classllk_1_1Device_a8e68d577fd5c160567e31dc0518bd6e9}\label{classllk_1_1Device_a8e68d577fd5c160567e31dc0518bd6e9}} 
\index{llk\+::\+Device@{llk\+::\+Device}!setup\+\_\+kernels@{setup\+\_\+kernels}}
\index{setup\+\_\+kernels@{setup\+\_\+kernels}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{setup\+\_\+kernels()}{setup\_kernels()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::setup\+\_\+kernels (\begin{DoxyParamCaption}\item[{std\+::string}]{root,  }\item[{std\+::unordered\+\_\+map$<$ \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}, std\+::vector$<$ std\+::vector$<$ std\+::string $>$$>$$>$ \&}]{kernels\+\_\+used,  }\item[{std\+::string}]{test\+\_\+name,  }\item[{bool}]{hlkc\+\_\+test = {\ttfamily false} }\end{DoxyParamCaption})}



Sets up test information (ckernels images etc) 

\mbox{\Hypertarget{classllk_1_1Device_a4be879d10344eab03473e53e41cc14b8}\label{classllk_1_1Device_a4be879d10344eab03473e53e41cc14b8}} 
\index{llk\+::\+Device@{llk\+::\+Device}!start@{start}}
\index{start@{start}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::start (\begin{DoxyParamCaption}\item[{std\+::string}]{root,  }\item[{std\+::string}]{device\+\_\+descriptor\+\_\+filename,  }\item[{std\+::vector$<$ std\+::string $>$}]{plusargs,  }\item[{std\+::vector$<$ std\+::string $>$}]{dump\+\_\+cores,  }\item[{std\+::string}]{overlay\+\_\+graph = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Starts device. 


\begin{DoxyParams}{Parameters}
{\em device} & Reference to device object that is to be started \\
\hline
{\em root} & root folder (git root) \\
\hline
{\em dump\+\_\+cores} & vector of cores to dump in simulation \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classllk_1_1Device_a6f6a546079d7c976635093e85ef6d348}\label{classllk_1_1Device_a6f6a546079d7c976635093e85ef6d348}} 
\index{llk\+::\+Device@{llk\+::\+Device}!stop@{stop}}
\index{stop@{stop}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily bool llk\+::\+Device\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stops and teardowns device. 

\mbox{\Hypertarget{classllk_1_1Device_a9086600f456bd20655b2bd74b8d10017}\label{classllk_1_1Device_a9086600f456bd20655b2bd74b8d10017}} 
\index{llk\+::\+Device@{llk\+::\+Device}!test\+\_\+write\+\_\+read@{test\+\_\+write\+\_\+read}}
\index{test\+\_\+write\+\_\+read@{test\+\_\+write\+\_\+read}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{test\+\_\+write\+\_\+read()}{test\_write\_read()}}
{\footnotesize\ttfamily bool llk\+::\+Device\+::test\+\_\+write\+\_\+read (\begin{DoxyParamCaption}\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target }\end{DoxyParamCaption})}



Simple test of communication to device/target. true if it passes. 

\mbox{\Hypertarget{classllk_1_1Device_a860d5ea1706c7fc693ed2f7da2de9874}\label{classllk_1_1Device_a860d5ea1706c7fc693ed2f7da2de9874}} 
\index{llk\+::\+Device@{llk\+::\+Device}!wait\+\_\+completion@{wait\+\_\+completion}}
\index{wait\+\_\+completion@{wait\+\_\+completion}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{wait\+\_\+completion()}{wait\_completion()}}
{\footnotesize\ttfamily bool llk\+::\+Device\+::wait\+\_\+completion (\begin{DoxyParamCaption}\item[{std\+::uint32\+\_\+t}]{W\+A\+I\+T\+\_\+\+N\+U\+M\+\_\+\+R\+I\+S\+CS = {\ttfamily 5} }\end{DoxyParamCaption})}



Wait for completion status/signal from device. 

\mbox{\Hypertarget{classllk_1_1Device_ad0bcc94a905851a6c78bb84873ff780d}\label{classllk_1_1Device_ad0bcc94a905851a6c78bb84873ff780d}} 
\index{llk\+::\+Device@{llk\+::\+Device}!write\+\_\+register@{write\+\_\+register}}
\index{write\+\_\+register@{write\+\_\+register}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{write\+\_\+register()}{write\_register()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::write\+\_\+register (\begin{DoxyParamCaption}\item[{uint32\+\_\+t \&}]{value,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target,  }\item[{std\+::int32\+\_\+t}]{address }\end{DoxyParamCaption})}



write vector to specific core -- address is byte address 


\begin{DoxyParams}{Parameters}
{\em mem\+\_\+vector} & is the vector to write. \\
\hline
{\em target} & is xy coordinate that is the target of the read or write \\
\hline
{\em address} & is register byte address \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classllk_1_1Device_a636a9edf251c886873b8cd2140329730}\label{classllk_1_1Device_a636a9edf251c886873b8cd2140329730}} 
\index{llk\+::\+Device@{llk\+::\+Device}!write\+\_\+tensor@{write\+\_\+tensor}}
\index{write\+\_\+tensor@{write\+\_\+tensor}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{write\+\_\+tensor()}{write\_tensor()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::write\+\_\+tensor (\begin{DoxyParamCaption}\item[{\hyperlink{classllk_1_1Tensor}{llk\+::\+Tensor} \&}]{tensor,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target,  }\item[{std\+::int32\+\_\+t}]{address,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{num\+\_\+blocks = {\ttfamily \hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}(1,~1)} }\end{DoxyParamCaption})}



write tensor to specific core -- address is byte address 


\begin{DoxyParams}{Parameters}
{\em tensor} & is the tensor to write. \\
\hline
{\em target} & is xy coordinate that is the target of the read or write \\
\hline
{\em address} & is byte address \\
\hline
{\em num\+\_\+blocks} & is how many blocks in x or y dims the tensor needs to be split. Default of 1,1 means no splitting \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classllk_1_1Device_a5704d979e68f372b6490ddf52e6bbff4}\label{classllk_1_1Device_a5704d979e68f372b6490ddf52e6bbff4}} 
\index{llk\+::\+Device@{llk\+::\+Device}!write\+\_\+vector@{write\+\_\+vector}}
\index{write\+\_\+vector@{write\+\_\+vector}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{write\+\_\+vector()}{write\_vector()}}
{\footnotesize\ttfamily void llk\+::\+Device\+::write\+\_\+vector (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::uint32\+\_\+t $>$ \&}]{mem\+\_\+vector,  }\item[{\hyperlink{structllk_1_1xy__pair}{llk\+::xy\+\_\+pair}}]{target,  }\item[{std\+::int32\+\_\+t}]{address }\end{DoxyParamCaption})}



write vector to specific core -- address is byte address 


\begin{DoxyParams}{Parameters}
{\em mem\+\_\+vector} & is the vector to write. \\
\hline
{\em target} & is xy coordinate that is the target of the read or write \\
\hline
{\em address} & is byte address \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classllk_1_1Device_a00b7609fbc13977bb9ea6522c53feeb4}\label{classllk_1_1Device_a00b7609fbc13977bb9ea6522c53feeb4}} 
\index{llk\+::\+Device@{llk\+::\+Device}!soc\+\_\+descriptor@{soc\+\_\+descriptor}}
\index{soc\+\_\+descriptor@{soc\+\_\+descriptor}!llk\+::\+Device@{llk\+::\+Device}}
\subsubsection{\texorpdfstring{soc\+\_\+descriptor}{soc\_descriptor}}
{\footnotesize\ttfamily \hyperlink{structllk_1_1SocDescriptor}{llk\+::\+Soc\+Descriptor} llk\+::\+Device\+::soc\+\_\+descriptor}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
inc/\hyperlink{llk__device_8h}{llk\+\_\+device.\+h}\item 
src/\hyperlink{llk__device_8cpp}{llk\+\_\+device.\+cpp}\end{DoxyCompactItemize}
